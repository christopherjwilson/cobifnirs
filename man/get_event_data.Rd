% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_event_data.R
\name{get_event_data}
\alias{get_event_data}
\title{Epoch Data for Multi-Level Modeling (MLM)}
\usage{
get_event_data(data, eventStart, eventEnd = NULL, eventName, lead = 0, lag = 0)
}
\arguments{
\item{data}{(dataframe) Continuous fNIRS data imported via \code{\link{import_nirs}}
and containing a 'marker' column from \code{\link{add_markers}}.}

\item{eventStart}{(character) The marker name indicating the start of the event (e.g., "Stimulus").}

\item{eventEnd}{(character, optional) The marker name indicating the end of the event.
If NULL (default), the function uses \code{lead} and \code{lag} to define a fixed-duration epoch.}

\item{eventName}{(character) A label for this condition (e.g., "Condition_A") to be added to the output.}

\item{lead}{(numeric) Number of samples \emph{before} the start marker to include (e.g., for baseline correction).
Default is 0. Calculate as: \code{Seconds * SampleRate}.}

\item{lag}{(numeric) Number of samples \emph{after} the end marker to include.
Default is 0. Calculate as: \code{Seconds * SampleRate}.}
}
\value{
A list of dataframes, where each element is a single trial containing
columns for time, data, trial number, and event name.
}
\description{
Extracts event-locked epochs (trials) from continuous fNIRS data.
This function slices the data around specific markers (e.g., "Stimulus_A")
to create a list of individual trials. This is the first step in preparing
data for Block Averaging or Multi-Level Modeling.
}
\details{
The function identifies the start and end times of events based on markers.
It allows for a "lead" (pre-stimulus baseline) and "lag" (post-stimulus response)
to capture the full hemodynamic response. The output is a list of dataframes,
where each dataframe represents one trial.
}
\examples{
\dontrun{
# Example: Extract 5s baseline (lead) and 25s response (lag) at 10Hz
# Lead = 5s * 2Hz = 10 samples
# Lag = 5s * 2Hz = 10 samples

trials <- get_event_data(oxy_data,
                         eventStart = "Stimulus_A",
                         eventName = "Condition_A",
                         lead = 10,
                         lag = 10)

# Combine into a single dataframe for MLM
mlm_data <- dplyr::bind_rows(trials)
}
}
